(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{151:function(e,t,n){var content=n(157);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(60).default)("5db11919",content,!0,{sourceMap:!1})},152:function(e,t,n){var content=n(169);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(60).default)("68544486",content,!0,{sourceMap:!1})},153:function(e,t,n){var content=n(171);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(60).default)("6759f5ab",content,!0,{sourceMap:!1})},156:function(e,t,n){"use strict";var r=n(151);n.n(r).a},157:function(e,t,n){(t=n(59)(!1)).push([e.i,".VueToNuxtLogo{display:inline-block;-webkit-animation:turn 2s linear 1s forwards;animation:turn 2s linear 1s forwards;transform:rotateX(180deg);position:relative;overflow:hidden;height:180px;width:245px}.Triangle{position:absolute;top:0;left:0;width:0;height:0}.Triangle--one{border-left:105px solid transparent;border-right:105px solid transparent;border-bottom:180px solid #41b883}.Triangle--two{top:30px;border-left:87.5px solid transparent;border-right:87.5px solid transparent;border-bottom:150px solid #3b8070}.Triangle--three,.Triangle--two{left:35px;-webkit-animation:goright .5s linear 3.5s forwards;animation:goright .5s linear 3.5s forwards}.Triangle--three{top:60px;border-left:70px solid transparent;border-right:70px solid transparent;border-bottom:120px solid #35495e}.Triangle--four{top:120px;left:70px;-webkit-animation:godown .5s linear 3s forwards;animation:godown .5s linear 3s forwards;border-left:35px solid transparent;border-right:35px solid transparent;border-bottom:60px solid #fff}@-webkit-keyframes turn{to{transform:rotateX(0deg)}}@keyframes turn{to{transform:rotateX(0deg)}}@-webkit-keyframes godown{to{top:180px}}@keyframes godown{to{top:180px}}@-webkit-keyframes goright{to{left:70px}}@keyframes goright{to{left:70px}}",""]),e.exports=t},164:function(e,t){},165:function(e,t){},166:function(e,t){},168:function(e,t,n){"use strict";var r=n(152);n.n(r).a},169:function(e,t,n){(t=n(59)(!1)).push([e.i,".container{width:100%;overflow:hidden}#loading,#pose{display:flex;justify-content:left;align-items:left}#pose{width:50%;margin:20px}#menu{position:absolute;text-align:center;bottom:3em;left:0;right:0}#menu ul{border-radius:2px;background-color:hsla(0,0%,100%,.3)}#menu li{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#menu .material-icons{font-size:30px}.sk-spinner-pulse{width:60px;height:60px;margin:40px auto;float:left;background-color:#333;border-radius:100%;-webkit-animation:sk-pulseScaleOut 1s ease-in-out infinite;animation:sk-pulseScaleOut 1s ease-in-out infinite}@-webkit-keyframes sk-pulseScaleOut{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}@keyframes sk-pulseScaleOut{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}",""]),e.exports=t},170:function(e,t,n){"use strict";var r=n(153);n.n(r).a},171:function(e,t,n){(t=n(59)(!1)).push([e.i,".content{min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center}.title{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links{padding-top:15px}",""]),e.exports=t},172:function(e,t,n){"use strict";n.r(t);n(156);var r=n(24),o=Object(r.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"VueToNuxtLogo"},[t("div",{staticClass:"Triangle Triangle--two"}),this._v(" "),t("div",{staticClass:"Triangle Triangle--one"}),this._v(" "),t("div",{staticClass:"Triangle Triangle--three"}),this._v(" "),t("div",{staticClass:"Triangle Triangle--four"})])}],!1,null,null,null).exports,c=n(39),l=(n(158),n(13),n(28),n(5)),d=n(160),f=n(167),m={name:"HumanPose",data:function(){return{net:{},video:{},cameras:[],cameraIndex:0,changingCamera:!1,loading:!0,windowHeight:0}},methods:{changeCamera:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.changingCamera){t.next=2;break}return t.abrupt("return");case 2:return e.changingCamera=!0,e.cameraIndex++,e.cameraIndex>=e.cameras.length&&(e.cameraIndex=0),t.next=7,e.loadVideo();case 7:case"end":return t.stop()}}),t)})))()},loadNet:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.c();case 2:e.net=t.sent;case 3:case"end":return t.stop()}}),t)})))()},loadVideo:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setupCamera();case 2:e.video=t.sent,e.video.play();case 4:case"end":return t.stop()}}),t)})))()},setupCamera:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var video,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){t.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return video=e.$refs.video,e.stopExistingVideoCapture(),t.next=6,navigator.mediaDevices.getUserMedia({audio:!1,video:{deviceId:e.cameras[e.cameraIndex].deviceId}});case 6:return n=t.sent,window.console.log("using camera: "+e.cameras[e.cameraIndex].label),video.srcObject=n,t.abrupt("return",new Promise((function(e){video.onloadedmetadata=function(){var t=video.videoWidth,n=video.videoHeight;video.width=t,video.height=n,e(video)}})));case 10:case"end":return t.stop()}}),t)})))()},getVideoInputs:function(){return Object(l.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){e.next=3;break}return window.console.log("enumerateDevices() not supported."),e.abrupt("return",[]);case 3:return e.next=5,navigator.mediaDevices.enumerateDevices();case 5:return t=e.sent,n=t.filter((function(e){return"videoinput"===e.kind})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))()},stopExistingVideoCapture:function(){this.video&&this.video.srcObject&&(this.video.srcObject.getTracks().forEach((function(track){track.stop()})),this.video.srcObject=null)},isAndroid:function(){return/Android/i.test(navigator.userAgent)},isiOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},isMobile:function(){return this.isAndroid()||this.isiOS()},detctPose:function(){var canvas=this.$refs.output,e=this;function t(){return n.apply(this,arguments)}function n(){return(n=Object(l.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.estimateSegmentation();case 2:r=n.sent,e.drawMask(r,canvas,e.video,{r:0,g:0,b:0,a:0}),e.drawPose(r,canvas),requestAnimationFrame(t);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t()},drawMask:function(e,canvas,video,t){var mask=f.d(e,t,{r:0,g:0,b:0,a:0},!1);f.a(canvas,video,mask,1,0,!0)},drawPose:function(e,canvas){var t=this,n=canvas.getContext("2d");e.forEach((function(e){var r=e.pose;r=f.b(r,e.width);for(var i=0;i<r.keypoints.length;i++){var o=r.keypoints[i];if(!(o.score<.1)){var c=o.position,l=c.y,m=c.x;t.drawPoint(n,1*l,1*m,5,"aqua")}}d.a(r.keypoints,.1).forEach((function(e){t.drawSegment(t.toTuple(e[0].position),t.toTuple(e[1].position),1,2.5,"aqua",n)}))}))},drawPoint:function(e,t,n,r,o){e.beginPath(),e.arc(n,t,r,0,2*Math.PI),e.fillStyle=o,e.fill()},drawSegment:function(e,t,n,r,o,l){var d=Object(c.a)(e,2),f=d[0],m=d[1],h=Object(c.a)(t,2),v=h[0],w=h[1];l.beginPath(),l.moveTo(m*n,f*n),l.lineTo(w*n,v*n),l.lineWidth=5,l.strokeStyle=o,l.stroke()},toTuple:function(e){return[e.y,e.x]},estimateSegmentation:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.net.segmentMultiPerson(e.video,{internalResolution:"medium",segmentationThreshold:.7,maxDetections:5,scoreThreshold:.2,nmsRadius:20,numKeypointForMatching:17,refineSteps:10});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.windowHeight=window.innerHeight,e.loading=!0,t.next=4,e.loadNet();case 4:return t.next=6,e.getVideoInputs();case 6:return e.cameras=t.sent,t.next=9,e.loadVideo();case 9:e.loading=!1,e.detctPose();case 11:case"end":return t.stop()}}),t)})))()}},h=(n(168),{components:{AppLogo:o,HumanPose:Object(r.a)(m,(function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"content"},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],ref:"loading",style:{height:this.windowHeight+"px"},attrs:{id:"loading"}},[t("div",{staticClass:"sk-spinner sk-spinner-pulse"})]),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!this.loading,expression:"!loading"}],style:{height:this.windowHeight+"px"},attrs:{id:"pose"}},[t("video",{ref:"video",staticStyle:{"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",transform:"scaleX(-1)",display:"none"},attrs:{id:"video",playsinline:""}}),this._v(" "),t("canvas",{ref:"output",attrs:{id:"outut"}})])])}),[],!1,null,null,null).exports}}),v=(n(170),Object(r.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"container"},[t("HumanPose")],1)}),[],!1,null,null,null));t.default=v.exports}}]);